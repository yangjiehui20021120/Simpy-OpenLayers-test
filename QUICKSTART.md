# 🚀 快速开始指南

## 一键启动

```bash
# 方式1: 使用启动脚本（推荐）
./start.sh

# 方式2: 手动启动
cd backend
python3 server.py
```

## 访问系统

打开浏览器访问: **http://localhost:8000**

## 使用流程

### 1️⃣ 设置参数

在右侧控制面板设置仿真时长（默认100秒）

### 2️⃣ 开始仿真

点击 **"▶️ 开始仿真"** 按钮

### 3️⃣ 观察可视化

在地图上观察：
- 🔵 **蓝色圆点** - 移动的物料
- 🟢 **绿色圆圈** - 正在工作的设备
- ⚪ **灰色圆圈** - 空闲的设备
- 🟨 **黄色方块** - 缓冲区（显示库存）

### 4️⃣ 查看数据

右侧面板实时显示：
- 📊 **生产统计** - 产量、在制品、产能、周期时间
- 🔧 **工位利用率** - 各设备的利用率百分比
- 📝 **事件日志** - 实时记录所有生产事件

### 5️⃣ 停止仿真

随时可点击 **"⏹️ 停止"** 按钮

## 系统演示场景

本系统模拟一个**3工位串行生产线**：

```
原料区 → 工位1(粗加工) → 缓冲区1 → 工位2(精加工) → 缓冲区2 → 工位3(质检) → 成品区
```

### 关键参数

- **加工时间**: 平均5秒（正态分布）
- **到达间隔**: 平均4秒（指数分布）
- **缓冲容量**: 每个缓冲区5件
- **工位数量**: 3个

### 预期结果

在100秒仿真中，通常会产生：
- ✅ 完成产品：15-25件
- 📦 在制品：3-8件
- ⚡ 产能：0.15-0.25件/秒
- ⏱️ 周期时间：15-25秒

## 常见问题

### Q: 依赖安装失败？

```bash
# 升级pip
pip install --upgrade pip

# 单独安装核心包
pip install simpy fastapi uvicorn websockets
```

### Q: 端口8000被占用？

修改 `backend/server.py` 最后一行：
```python
uvicorn.run(app, host="0.0.0.0", port=8001)  # 改为8001或其他端口
```

### Q: 浏览器无法连接WebSocket？

检查防火墙设置，确保允许8000端口

### Q: 地图不显示？

检查浏览器控制台(F12)，确保能访问CDN资源

## 高级功能

### 修改仿真参数

编辑 `backend/simulation.py`：

```python
self.processing_time_mean = 5.0  # 修改平均加工时间
self.arrival_interval = 4.0       # 修改到达间隔
self.buffer_capacity = 5          # 修改缓冲容量
```

### 扩展产线

增加工位数量：
```python
self.num_workstations = 5  # 改为5个工位
```

### 自定义车间布局

修改 `backend/server.py` 中的 `get_workshop_layout()` 函数，
调整工位坐标和布局

## 性能优化

### 加速仿真

减小WebSocket推送延迟：
```python
# server.py 第163行
await asyncio.sleep(0.05)  # 从0.1改为0.05
```

### 减少日志

限制前端日志数量：
```javascript
// app.js 第401行
while (logContainer.children.length > 50) {  // 从100改为50
```

## 系统测试

运行完整测试：
```bash
python3 test_system.py
```

## 技术支持

遇到问题？
1. 查看 `README.md` 详细文档
2. 检查浏览器控制台错误信息
3. 查看终端后端日志输出

---

**祝您使用愉快！ 🎉**
